{"version":3,"sources":["../../src/bot/middleware.js"],"names":["event","webhookEvent","message","text","sender","id","console","log","postback","payload","botMessengerMiddleware"],"mappings":";;;;;;;;qEAIO,iBAAsCA,KAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AACDC,wBADC,GACcD,KADd;;;AAGL,gBAAGC,aAAaC,OAAhB,EAAyB;AACvB,kBAAGD,aAAaC,OAAb,CAAqBC,IAAxB,EAA8B;AAC5B;AACA,wCAASF,YAAT;AACD,eAHD,MAGM;AACJ;AACA,+CAAgBA,aAAaG,MAAb,CAAoBC,EAApC,EAAwC,2BAAxC;AACD;AACF,aARD,MAQM;AACJ;AACAC,sBAAQC,GAAR,CAAYN,aAAaO,QAAb,CAAsBC,OAAlC;AACA,sCAASR,aAAaG,MAAb,CAAoBC,EAA7B,EAAiCJ,aAAaO,QAAb,CAAsBC,OAAvD;AACD;;AAfI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAeC,sB;;;;;AAkBtB;AACA;;;AAvBA;;AACA;;AACA","file":"middleware.js","sourcesContent":["import {commands} from './commands'\nimport {payloads} from './payloads'\nimport {sendTextMessage} from './lib/messages'\n\nexport async function botMessengerMiddleware(event) {\n  let webhookEvent = event\n  \n  if(webhookEvent.message) {\n    if(webhookEvent.message.text) {\n      // Text\n      commands(webhookEvent)\n    }else {\n      // Attachments or likes\n      sendTextMessage(webhookEvent.sender.id, 'O tomhle nic moc nev√≠m...')\n    }\n  }else {\n    // Payload\n    console.log(webhookEvent.postback.payload)\n    payloads(webhookEvent.sender.id, webhookEvent.postback.payload)\n  }\n}\n\n// Likes\n// 369239383222810 369239263222822 369239343222814"]}