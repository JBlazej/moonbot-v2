{"version":3,"sources":["../../src/bot/middleware.js"],"names":["event","webhookEvent","message","sender","id","postback","payload","botMessageMiddleware"],"mappings":";;;;;;;;qEAGO,iBAAoCA,KAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AACDC,wBADC,GACcD,KADd;;AAAA,iBAGFC,aAAaC,OAHX;AAAA;AAAA;AAAA;;AAAA,6CAKI,wBAASD,YAAT,CALJ;;AAAA;AAAA,6CAQI,wBAASA,aAAaE,MAAb,CAAoBC,EAA7B,EAAiCH,aAAaI,QAAb,CAAsBC,OAAvD,CARJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAeC,oB;;;;;AAHtB;;AACA","file":"middleware.js","sourcesContent":["import {commands} from './commands/commands'\nimport {payloads} from './payloads/payloads'\n\nexport async function botMessageMiddleware(event) {\n  let webhookEvent = event\n  \n  if(webhookEvent.message) {\n    // Text message interaface\n    return commands(webhookEvent)\n  }else {\n    // Payload interface\n    return payloads(webhookEvent.sender.id, webhookEvent.postback.payload)\n  }\n}"]}