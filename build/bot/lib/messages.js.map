{"version":3,"sources":["../../../src/bot/lib/messages.js"],"names":["options","makeRequest","sender","text","url","GRAPH_URL_MESSAGES","qs","access_token","PAGE_ACCESS_TOKEN","method","json","recipient","id","message","sendTextMessage","sendGenMessage"],"mappings":";;;;;;;;qEAGA,iBAA2BA,OAA3B;AAAA;AAAA;AAAA;AAAA;AAAA,6CACS,8BAAQA,OAAR,CADT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAeC,W;;;;;;sEAKR,kBAA+BC,MAA/B,EAAuCC,IAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AACCH,mBADD,GACW;AACZI,mBAAKC,yBADO;AAEZC,kBAAI,EAAEC,cAAcC,wBAAhB,EAFQ;AAGZC,sBAAQ,MAHI;AAIZC,oBAAM;AACFC,2BAAW,EAAEC,IAAIV,MAAN,EADT;AAEFW,yBAAS,EAAEV,MAAMA,IAAR;AAFP;AAJM,aADX;AAAA,8CAWIF,YAAYD,OAAZ,CAXJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAec,e;;;;;;sEAeb,kBAA8BZ,MAA9B,EAAsCW,OAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AACDb,mBADC,GACS;AACZI,mBAAKC,yBADO;AAEZC,kBAAI,EAAEC,cAAcC,wBAAhB,EAFQ;AAGZC,sBAAQ,MAHI;AAIZC,oBAAM;AACFC,2BAAW,EAAEC,IAAIV,MAAN,EADT;AAEFW,yBAASA;AAFP;AAJM,aADT;AAAA,8CAWEZ,YAAYD,OAAZ,CAXF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAee,c;;;;;AAvBxB;;;;AACA","file":"messages.js","sourcesContent":["import request from 'request-promise'\nimport {GRAPH_URL_MESSAGES, PAGE_ACCESS_TOKEN} from '../../conf/graph'\n\nasync function makeRequest(options){\n  return request(options)\n\n}\n\nexport async function sendTextMessage(sender, text){\n    let options = {\n      url: GRAPH_URL_MESSAGES,\n      qs: { access_token: PAGE_ACCESS_TOKEN },\n      method: 'POST',\n      json: {\n          recipient: { id: sender },\n          message: { text: text }\n      }\n    }\n \n    return makeRequest(options)\n  }\n\n\n  export async function sendGenMessage(sender, message){\n    var options = {\n      url: GRAPH_URL_MESSAGES,\n      qs: { access_token: PAGE_ACCESS_TOKEN },\n      method: 'POST',\n      json: {\n          recipient: { id: sender },\n          message: message\n      }\n    }\n \n    return makeRequest(options)\n  }"]}