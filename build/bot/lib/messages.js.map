{"version":3,"sources":["../../../src/bot/lib/messages.js"],"names":["options","makeRequest","sender","text","url","GRAPH_URL_MESSAGES","qs","access_token","PAGE_ACCESS_TOKEN","method","json","recipient","id","message","sendTextMessage","sendGenMessage","object","obj","item","sendMultipleMessages"],"mappings":";;;;;;;;qEAGO,iBAA2BA,OAA3B;AAAA;AAAA;AAAA;AAAA;AAAA,6CACE,8BAAQA,OAAR,CADF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAeC,W;;;;;;sEAKf,kBAA+BC,MAA/B,EAAuCC,IAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AACCH,mBADD,GACW;AACZI,mBAAKC,yBADO;AAEZC,kBAAI,EAAEC,cAAcC,wBAAhB,EAFQ;AAGZC,sBAAQ,MAHI;AAIZC,oBAAM;AACFC,2BAAW,EAAEC,IAAIV,MAAN,EADT;AAEFW,yBAAS,EAAEV,MAAMA,IAAR;AAFP;AAJM,aADX;AAAA,8CAWIF,YAAYD,OAAZ,CAXJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAec,e;;;;;;sEAeb,kBAA8BZ,MAA9B,EAAsCW,OAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AACDb,mBADC,GACS;AACZI,mBAAKC,yBADO;AAEZC,kBAAI,EAAEC,cAAcC,wBAAhB,EAFQ;AAGZC,sBAAQ,MAHI;AAIZC,oBAAM;AACFC,2BAAW,EAAEC,IAAIV,MAAN,EADT;AAEFW,yBAASA;AAFP;AAJM,aADT;AAAA,8CAWEZ,YAAYD,OAAZ,CAXF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAee,c;;;;;;sEAcjB,kBAAoCH,EAApC,EAAwCI,MAAxC;AAAA;;AAAA;AAAA;AAAA;AAAA;AACDC,eADC,GACKD,MADL;AAAA;AAAA;AAAA;AAAA;AAAA,wBAGcC,GAHd;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAGMC,gBAHN;AAAA;AAAA,mBAIGJ,gBAAgBF,EAAhB,EAAoBM,IAApB,CAJH;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAeC,oB;;;;;AArCtB;;;;AACA","file":"messages.js","sourcesContent":["import request from 'request-promise'\nimport {GRAPH_URL_MESSAGES, PAGE_ACCESS_TOKEN} from '../../conf/graph'\n\nexport async function makeRequest(options){\n  return request(options)\n  \n}\n\nexport async function sendTextMessage(sender, text){\n    let options = {\n      url: GRAPH_URL_MESSAGES,\n      qs: { access_token: PAGE_ACCESS_TOKEN },\n      method: 'POST',\n      json: {\n          recipient: { id: sender },\n          message: { text: text }\n      }\n    }\n \n    return makeRequest(options)\n  }\n\n\n  export async function sendGenMessage(sender, message){\n    var options = {\n      url: GRAPH_URL_MESSAGES,\n      qs: { access_token: PAGE_ACCESS_TOKEN },\n      method: 'POST',\n      json: {\n          recipient: { id: sender },\n          message: message\n      }\n    }\n \n    return makeRequest(options)\n  }\n\nexport async function sendMultipleMessages(id, object){\n  let obj = object\n  \n  for (const item of obj){\n    await sendTextMessage(id, item)\n  }\n}"]}