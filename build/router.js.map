{"version":3,"sources":["../src/router.js"],"names":["controller","wrap","fn","catch","router","get","req","res","status","json","good","facebook","facebookVerificationHook","post","facebookEventHook"],"mappings":";;;;;;AAAA;;AACA;;;;AACA;;;;;;AAEA,IAAMA,aAAa,0BAAW,eAAX,CAAnB;;AAEA;AACA,IAAMC,OAAO,SAAPA,IAAO;AAAA,WAAM;AAAA,eAAaC,+BAAYC,KAAZ,kDAAb;AAAA,KAAN;AAAA,CAAb;;AAEA,IAAMC,SAAS,sBAAf;;AAEA;AACAA,OAAOC,GAAP,CAAW,GAAX,EAAgB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC1BA,QAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAACC,MAAM,MAAP,EAArB;AACH,CAFD;;AAIA;AACA;AACAN,OAAOC,GAAP,CAAW,mBAAX,EAAgCJ,KAAKD,WAAWW,QAAX,CAAoBC,wBAAzB,CAAhC;;AAEA;AACA;AACAR,OAAOS,IAAP,CAAY,mBAAZ,EAAiCZ,KAAKD,WAAWW,QAAX,CAAoBG,iBAAzB,CAAjC;;kBAEeV,M","file":"router.js","sourcesContent":["import {Router} from 'express'\nimport path from 'path'\nimport requireDir from 'require-dir'\n\nconst controller = requireDir('./controllers')\n\n// Source https://strongloop.com/strongblog/async-error-handling-expressjs-es7-promises-generators/#usinges7asyncawait\nconst wrap = fn => (...args) => fn(...args).catch(args[2])\n\nconst router = Router()\n\n// HOME\nrouter.get('/', (req, res) => {\n    res.status(200).json({good: 'Nice'})\n})\n\n// FACEBOOK VERIFICATION\n// -----------------------------------------------------------------------------\nrouter.get('/facebook-webhook', wrap(controller.facebook.facebookVerificationHook))\n\n// INCOME POST DATA FROM FACEBOOK\n// -----------------------------------------------------------------------------\nrouter.post('/facebook-webhook', wrap(controller.facebook.facebookEventHook))\n\nexport default router\n"]}