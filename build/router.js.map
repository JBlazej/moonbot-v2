{"version":3,"sources":["../src/router.js"],"names":["controller","wrap","fn","catch","router","get","req","res","send","facebook","facebookVerificationHook","post","facebookEventHook"],"mappings":";;;;;;AAAA;;AACA;;;;;;AAGA,IAAMA,aAAa,0BAAW,eAAX,CAAnB;;AAGA;AACA,IAAMC,OAAO,SAAPA,IAAO;AAAA,WAAM;AAAA,eAAaC,+BAAYC,KAAZ,kDAAb;AAAA,KAAN;AAAA,CAAb;;AAEA,IAAMC,SAAS,sBAAf;;AAEA;AACAA,OAAOC,GAAP,CAAW,GAAX,EAAgB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC1BA,QAAIC,IAAJ,CAAS,uBAAT;AACH,CAFD;;AAIA;AACA;AACAJ,OAAOC,GAAP,CAAW,mBAAX,EAAgCJ,KAAKD,WAAWS,QAAX,CAAoBC,wBAAzB,CAAhC;;AAEA;AACA;AACAN,OAAOO,IAAP,CAAY,mBAAZ,EAAiCV,KAAKD,WAAWS,QAAX,CAAoBG,iBAAzB,CAAjC;;kBAEeR,M","file":"router.js","sourcesContent":["import {Router} from 'express'\nimport requireDir from 'require-dir'\n\n\nconst controller = requireDir('./controllers')\n\n\n// Source https://strongloop.com/strongblog/async-error-handling-expressjs-es7-promises-generators/#usinges7asyncawait\nconst wrap = fn => (...args) => fn(...args).catch(args[2])\n\nconst router = Router()\n\n// HOME\nrouter.get('/', (req, res) => {\n    res.send('Server is working !!!')\n})\n\n// FACEBOOK VERIFICATION\n// -----------------------------------------------------------------------------\nrouter.get('/facebook-webhook', wrap(controller.facebook.facebookVerificationHook))\n\n// INCOME POST DATA FROM FACEBOOK\n// -----------------------------------------------------------------------------\nrouter.post('/facebook-webhook', wrap(controller.facebook.facebookEventHook))\n\nexport default router\n"]}